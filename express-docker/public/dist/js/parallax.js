function mr_parallax(){"use strict";function o(){var e,t=0;return n()?(t=jQuery(".viu").find("nav:first").outerHeight(!0),("absolute"===(e=jQuery(".viu").find("nav:first").css("position"))||"fixed"===e)&&(t=0)):t=jQuery(document).find("nav:first").outerHeight(!0),Math.floor(t)}function i(){return/Android/i.test(navigator.userAgent||navigator.vendor||window.opera)?screen.height*window.devicePixelRatio:/iPad|iPhone|iPod/i.test(navigator.userAgent||navigator.vendor||window.opera)?0===window.orientation&&screen.height>screen.width?screen.height:screen.width:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}function e(){!1===c&&(c=!0,r(h.mr_parallaxBackground))}function n(){return void 0!==window.mr_variant}var a,r=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,s=function(e){for(var t=0;t<e.length;t++)if(void 0!==document.body.style[e[t]])return e[t];return null}(["transform","msTransform","webkitTransform","mozTransform","oTransform"]),l="translate3d(0,",d="px,0)",u=i(),m=0,t=window,c=(n(),!1),h=this;jQuery(document).ready(function(){h.documentReady()}),jQuery(window).on("load",function(){h.windowLoad()}),this.documentReady=function(e){return u=i(),jQuery("body").hasClass("parallax-2d")&&(l="translate(0,",d="px)"),r&&(h.profileParallaxElements(),h.setupParallax()),(t=e)&&"[object Function]"==={}.toString.call(t)?void e():void 0;var t},this.windowLoad=function(){u=i(),m=o(),window.mr_parallax.profileParallaxElements()},this.setupParallax=function(){n()&&(t=jQuery(".viu").get(0)),void 0!==t&&((void 0===window.mr||n())&&(t.onscroll=e),window.addEventListener("resize",function(){u=i(),m=o(),h.profileParallaxElements(),h.mr_parallaxBackground()},!1),window.addEventListener("orientationchange",function(){},!1),h.mr_parallaxBackground())},this.profileParallaxElements=function(){var e;a=[],u=i(),m=o();var t=".parallax > .background-image-holder, .parallax ul.slides > li > .background-image-holder, .parallax ul.slides .owl-item > li > .background-image-holder";n()&&(t=".viu .parallax > .background-image-holder, .viu .parallax ul.slides > li > .background-image-holder, .parallax ul.slides .owl-item > li > .background-image-holder"),e=jQuery(t),/Android|iPad|iPhone|iPod/i.test(navigator.userAgent||navigator.vendor||window.opera)&&(e=e.not(".parallax-disable-mobile .background-image-holder, body.parallax-disable-mobile *")),jQuery(e).each(function(e){var t=jQuery(this).closest(".parallax"),o=n()?t.position().top:t.offset().top,i=screen.height,r=screen.width;a.push({section:t.get(0),outerHeight:t.outerHeight(),elemTop:o,elemBottom:o+t.outerHeight(),isFirstSection:!!t.is(":nth-of-type(1)"),imageHolder:jQuery(this).get(0)}),/iPad|iPhone|iPod/i.test(navigator.userAgent||navigator.vendor||window.opera)&&screen.width<1024&&(0===window.orientation&&r<i?(jQuery(this).css("top","-"+i/2+"px"),jQuery(this).css({"min-height":t.is(":nth-of-type(1)")?1.5*i:1.2*i})):(jQuery(this).css("top","-"+r/2+"px"),jQuery(this).css({"min-height":t.is(":nth-of-type(1)")?1.5*r:1.2*r}))),/iPad|iPhone|iPod/i.test(navigator.userAgent||navigator.vendor||window.opera)&&1024<=screen.width&&(0===window.orientation&&r<i?(jQuery(this).css("top","-"+i/2+"px"),jQuery(this).css({"min-height":t.is(":nth-of-type(1)")?1.5*i:1.2*i})):(jQuery(this).css("top","-"+r/2+"px"),jQuery(this).css({"min-height":t.is(":nth-of-type(1)")?1.5*r:1.2*r}))),/Android/i.test(navigator.userAgent||navigator.vendor||window.opera)&&(jQuery(this).css({top:"-"+i*window.devicePixelRatio/(t.is(":nth-of-type(1)")?8:2)+"px"}),jQuery(this).css({"min-height":t.is(":nth-of-type(1)")?1.5*i:1.2*i})),n()?n()&&(t.is(":nth-of-type(1)")?h.mr_setTranslate3DTransform(jQuery(this).get(0),0===h.mr_getScrollPosition()?0:h.mr_getScrollPosition()/2):h.mr_setTranslate3DTransform(jQuery(this).get(0),(h.mr_getScrollPosition()-o-m)/2)):t.is(":nth-of-type(1)")?h.mr_setTranslate3DTransform(jQuery(this).get(0),0===h.mr_getScrollPosition()?0:h.mr_getScrollPosition()/2):h.mr_setTranslate3DTransform(jQuery(this).get(0),(h.mr_getScrollPosition()+u-o)/2)})},this.mr_parallaxBackground=function(){for(var e,t=a.length,o="undefined"==typeof mr||n()?h.mr_getScrollPosition():mr.scroll.y;t--;)e=a[t],n()?o+u-m>e.elemTop&&o-m<e.elemBottom&&(e.isFirstSection?e.imageHolder.style[s]=l+o/2+d:e.imageHolder.style[s]=l+(o-e.elemTop-m)/2+d):o+u>=e.elemTop&&o<=e.elemBottom&&(e.isFirstSection?e.imageHolder.style[s]=l+o/2+d:e.imageHolder.style[s]=l+(o+u-e.elemTop)/2+d);c=!1},this.mr_setTranslate3DTransform=function(e,t){e.style[s]=l+t+d},this.mr_getScrollPosition=function(){return t!==window?t.scrollTop:0===document.documentElement.scrollTop?document.body.scrollTop:document.documentElement.scrollTop}}window.mr_parallax=new mr_parallax;